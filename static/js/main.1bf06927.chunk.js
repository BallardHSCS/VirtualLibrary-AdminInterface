(this["webpackJsonpvirtual-library"]=this["webpackJsonpvirtual-library"]||[]).push([[0],{160:function(e,t,n){"use strict";(function(e){var o,a=n(21),r=n.n(a),c=n(33),i=n(25),s=n(0),l=n.n(s),h=(n(97),n(161)),d=n(166),j=n(330),b=n(50),u=n(329),f=n(112),g=n(4),m=Object(b.a)({palette:{type:"dark",primary:{main:"#f44336"},secondary:{main:"#fff"}}});Object.assign(m,{overrides:{MUIRichTextEditor:{root:{textAlign:"left",margin:"auto",paddingBottom:"80px",width:"100%"},editor:{borderBottom:"3px solid gray"},toolbar:{paddingBottom:"20px"}}}});var p={},O="";t.a=function(){var t=Object(s.useState)(),n=Object(i.a)(t,2),a=n[0],b=n[1],x=Object(s.useState)(),C=Object(i.a)(x,2),I=C[0],y=C[1],v=l.a.useState(!1),k=Object(i.a)(v,2),S=(k[0],k[1],l.a.useState("")),P=Object(i.a)(S,2),w=P[0],A=P[1];Object(s.useEffect)((function(){var e=localStorage.getItem("PAT");""!==e&&void 0!==e&&(console.log(e),B(e))}),[]);var B=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===t.type?(console.log(t),o=new f.a({auth:t})):o=new f.a({auth:w});try{o.rest.repos.getContent({owner:"BallardHSCS",repo:"VirtualLibrary-AdminInterface",path:"config/config.json"}).then((function(e){var t=JSON.parse(atob(e.data.content));p=t,console.log(p),console.log("done!"),b([p])})),void 0!==t.type&&localStorage.setItem("PAT",w),o.rest.users.getAuthenticated().then((function(e){O=e.data.login,y(!0)}))}catch(n){y(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a="",o.rest.repos.getContent({owner:"BallardHSCS",repo:"VirtualLibrary-AdminInterface",path:"config/config.json"}).then((function(t){a=t.data.sha,console.log(t);var r=JSON.stringify(n);console.log(r),o.rest.repos.createOrUpdateFileContents({owner:"BallardHSCS",repo:"VirtualLibrary-AdminInterface",path:"config/config.json",sha:a,message:"Config update from admin interface",content:e.from(r).toString("base64"),"committer.name":"Admin Interface","committer.email":"nlaha@outlook.com","author.name":"Admin Interface","author.email":"nlaha@outlook.com"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(u.a,{theme:m,children:[Object(g.jsxs)(j.a,{className:"centerform",children:[Object(g.jsx)("h1",{className:"title",children:"BHS Virtual Library"}),Object(g.jsx)("h2",{className:"subtitle",children:"Admin Interface"}),!I&&Object(g.jsx)(d.a,{PAT:w,onChangePAT:function(e){A(e.target.value)},onLogin:B}),a&&I&&Object(g.jsx)(h.a,{GithubUsername:O,IncomingConfig:p,onConfigSubmit:function(e,t){return F(e,t)}})]}),Object(g.jsx)("footer",{children:Object(g.jsxs)("p",{children:["Copyright \xa9"," ",Object(g.jsx)("script",{children:"document.write(new Date().getFullYear())"})," BHS GCC All Rights Reserved"]})})]})})}}).call(this,n(185).Buffer)},161:function(e,t,n){"use strict";n(97);var o=n(95),a=n(172),r=n(89),c=n(61),i=n(43),s=n.n(i),l=n(110),h=n(4),d=Object(r.a)({root:{marginBottom:40,padding:20},formControl:{minWidth:"100%"}}),j=["bold","italic","bulletList","numberList","undo","redo","link"];t.a=function(e){var t=d(),n=e.IncomingConfig,r=function(e,t){n[t]=JSON.stringify(Object(l.convertToRaw)(e.getCurrentContent()))};return Object(h.jsxs)("div",{children:[Object(h.jsxs)(o.a,{className:t.root,children:[Object(h.jsx)("h2",{children:"Account"}),Object(h.jsxs)("h3",{children:["Signed in as ",e.GithubUsername]}),Object(h.jsx)(c.a,{variant:"contained",className:"submitbtn",onClick:function(){localStorage.setItem("PAT",""),window.location.reload()},style:{width:"50%"},children:"Clear Stored Token & Sign Out"})]}),Object(h.jsxs)(o.a,{className:t.root,children:[Object(h.jsx)("h2",{children:"Info Panels"}),Object(h.jsxs)(a.a,{className:t.formControl,children:[Object(h.jsx)("h3",{htmlFor:"Makerspace-Info",children:"Makerspace Info Panel"}),Object(h.jsx)(s.a,{defaultValue:n["Makerspace-Info"],controls:j,id:"Makerspace-Info",label:"Click here and start typing...",onChange:function(e){r(e,"Makerspace-Info")}}),Object(h.jsx)("h3",{htmlFor:"Printing-Info",children:"Printing Station Info Panel"}),Object(h.jsx)(s.a,{defaultValue:n["Printing-Info"],controls:j,id:"Printing-Info",label:"Click here and start typing...",onChange:function(e){r(e,"Printing-Info")}}),Object(h.jsx)("h3",{htmlFor:"Bookshelf-Info",children:"Bookshelf Info Panel"}),Object(h.jsx)(s.a,{defaultValue:n["Bookshelf-Info"],controls:j,id:"Bookshelf-Info",label:"Click here and start typing...",onChange:function(e){r(e,"Bookshelf-Info")}}),Object(h.jsx)("h3",{htmlFor:"Games-Info",children:"Board Games Info Panel"}),Object(h.jsx)(s.a,{defaultValue:n["Games-Info"],controls:j,id:"Games-Info",label:"Click here and start typing...",onChange:function(e){r(e,"Games-Info")}}),Object(h.jsx)("h3",{htmlFor:"Film-Info",children:"Film Room Info Panel"}),Object(h.jsx)(s.a,{defaultValue:n["Film-Info"],controls:j,id:"Film-Info",label:"Click here and start typing...",onChange:function(e){r(e,"Film-Info")}})]})]}),Object(h.jsxs)(o.a,{className:t.root,children:[Object(h.jsx)("h2",{children:"Display Objects"}),Object(h.jsxs)(a.a,{className:t.formControl,children:[Object(h.jsx)("h3",{htmlFor:"Whiteboard01",children:"Whiteboard by bookshelves"}),Object(h.jsx)(s.a,{defaultValue:n.Whiteboard01,controls:j,id:"Whiteboard01",label:"Click here and start typing...",onChange:function(e){r(e,"Whiteboard01")}}),Object(h.jsx)("h3",{htmlFor:"ProjectorScreen01",children:"Wall projector screen"}),Object(h.jsx)(s.a,{defaultValue:n.ProjectorScreen01,controls:j,id:"ProjectorScreen01",label:"Click here and start typing...",onChange:function(e){r(e,"ProjectorScreen01")}})]})]}),Object(h.jsx)(c.a,{variant:"contained",color:"primary",className:"submitbtn",onClick:function(t){e.onConfigSubmit(n)},children:"Upload Changes"})]})}},166:function(e,t,n){"use strict";n(97),n(0);var o=n(95),a=n(111),r=n(89),c=n(61),i=n(4),s=Object(r.a)({root:{marginBottom:40,padding:20},formControl:{minWidth:"100%"}});t.a=function(e){var t=s();return Object(i.jsxs)(o.a,{className:t.root,children:[Object(i.jsx)("h1",{children:"Please follow the steps below"}),Object(i.jsx)("h2",{children:"1. Visit the GitHub PAT generation page"}),Object(i.jsx)("a",{target:"_blank",href:"https://github.com/settings/tokens",style:{textDecoration:"none"},children:Object(i.jsx)(c.a,{variant:"contained",color:"secondary",children:"GitHub PAT Generation Page"})}),Object(i.jsx)("h2",{children:'2. Click "generate new token"'}),Object(i.jsx)("img",{src:"Step1.jpg"}),Object(i.jsx)("h2",{children:"3. Set up the token as shown below"}),Object(i.jsx)("img",{src:"Step2.jpg"}),Object(i.jsx)("h2",{children:"Copy the token to a safe place, you won't be able to copy it again"}),Object(i.jsx)("img",{src:"Step3.jpg"}),Object(i.jsx)("h2",{children:"Please enter your GitHub Personal Access Token"}),Object(i.jsx)("div",{children:Object(i.jsx)(a.a,{style:{width:"80%"},id:"outlined-basic",label:"Github PAT",variant:"outlined",value:e.PAT,onChange:e.onChangePAT})}),Object(i.jsx)("div",{style:{marginTop:"20px"},children:Object(i.jsx)(c.a,{variant:"contained",color:"primary",onClick:e.onLogin,children:"Login"})})]})}},184:function(e,t,n){},323:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(13),c=n.n(r),i=(n(184),n(160)),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,361)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),o(e),a(e),r(e),c(e)}))},l=n(4);c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(i.a,{})}),document.getElementById("root")),s()},97:function(e,t,n){}},[[323,1,2]]]);
//# sourceMappingURL=main.1bf06927.chunk.js.map